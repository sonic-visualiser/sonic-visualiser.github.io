<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <link rel="stylesheet" media="screen" type="text/css" href="screen.css"/>
    <link rel="icon" type="image/png" href="images/waveform.png"/>
    <link rel="shortcut" type="image/png" href="images/waveform.png"/>
      <title>Sonic Lineup: A Brief Reference</title>
    <meta name="robots" content="index"/>
  </head>
  <body>
    <div id="reference-toc">
      <div class="toc2">1 &nbsp;<a href="#purpose">What Sonic Lineup is For</a></div>
      <div class="toc2">2 &nbsp;<a href="#layout">Window Layout</a></div>
      <div class="toc2">3 &nbsp;<a href="#openingfiles">Opening Files</a></div>
      <div class="toc2">4 &nbsp;<a href="#alignment">Alignment</a></div>
      <div class="toc3">4.1 &nbsp;<a href="#controlling">Controlling Alignment</a></div>
      <div class="toc2">5 &nbsp;<a href="#playback">Playback and Recording</a></div>
      <div class="toc2">6 &nbsp;<a href="#navigation">Navigation</a></div>
      <div class="toc2">7 &nbsp;<a href="#salientfeatures">The Salient Feature Layer</a></div>
      <div class="toc2">8 &nbsp;<a href="#viewmodes">View Modes</a></div>
      <div class="toc3">8.1 &nbsp;<a href="#outlinewaveform">Outline Waveform</a></div>
      <div class="toc3">8.2 &nbsp;<a href="#waveform">Waveform</a></div>
      <div class="toc3">8.3 &nbsp;<a href="#melodicspectrogram">Melodic Spectrogram</a></div>
      <div class="toc3">8.4 &nbsp;<a href="#spectrogram">Spectrogram</a></div>
      <div class="toc3">8.5 &nbsp;<a href="#sungpitch">Sung Pitch</a></div>
      <div class="toc3">8.6 &nbsp;<a href="#key">Key</a></div>
      <div class="toc3">8.7 &nbsp;<a href="#stereoazimuth">Stereo Azimuth</a></div>
    </div>

    <div id="reference-content">
      <a href="http://www.sonicvisualiser.org/sonic-lineup">
        <h1 id="header"><span>Sonic Lineup</span></h1></a>

<p>Sonic Lineup is an application for comparative visualisation and
alignment of related audio recordings.  This is a brief reference
manual explaining the concepts used in Sonic Lineup and how to use it.
This manual describes Sonic Lineup version 1.0.</p>

<p>This document is Copyright 2019 Queen Mary, University of London.
You may modify and redistribute it under the terms of the Creative
Commons Attribution-ShareAlike 2.5 License.  See
<a
href="http://creativecommons.org/licenses/by-sa/2.5/">http://creativecommons.org/licenses/by-sa/2.5/</a>
for details.</p>

<a name="purpose"></a><h2>1 &nbsp;What Sonic Lineup is For</h2>

      <p>Sonic Lineup is intended for visualisation and inspection of
        multiple audio files which are related by way of representing
        the same "source material".
      </p>
      <p>This could mean they are recordings of different performances
        of the same work; different recordings of the same
        performance; different "takes" of parts in a studio session;
        or perhaps recordings of variant works or cover songs, so long
        as they are broadly structurally similar.
      </p>
      <p>With multiple such audio files loaded, Sonic Lineup will
        attempt to <a href="#alignment">align them in time</a>, based
        on an analysis of their audio content, so that you can
        navigate them in sync with one another in terms of the common
        musical content they represent. A number of
        different <a href="#viewmodes">visualisation modes</a> are
        provided, and switching modes takes effect for all loaded
        files at once.
      </p>
      <p>Sonic Lineup also supports <a href="playback">recording</a>
      directly from the microphone or other audio input.
      </p>
      <p>Sonic Lineup is <b>not</b> designed for editing, annotation,
        precision measurement, or any custom analysis of audio. No
        editing facilities are included, no adjustable parameters for
        the visualisation modes are provided, and it is not possible
        to save or export any kind of annotation or session
        information. In contrast
        to <a href="https://sonicvisualiser.org/">Sonic
        Visualiser</a>, Sonic Lineup is intended for "quick"
        comparative analysis, rather than for intensive study.</p>
      
      <a name="layout"></a><h2>2 &nbsp;Window Layout</h2>
      
      <p><div align="center"><img class="banner" src="images/whole.png"/><br><i>Sonic Lineup with four audio files loaded</i></div></p>

      <p>Most of the Sonic Lineup window is taken up with views of
        each of the audio files that you
        have <a href="#openingfiles">opened</a>, each in a different
        colour.</p>

      <p>In the very centre of each view is the
        aligned <a href="#playback">playback position</a> line, a
        solid white line. The translucent white lines snaking down
        across the views are the <a href="#salientfeatures">salient
        feature layer</a> mappings.</p>

      <p>The first of the audio file views is labelled as the
        "Reference", and has special significance as
        the <a href="#alignment">alignment reference</a> and source of
        the salient feature layer.</p>

      <p>Below the audio views, at the bottom of the window, are
        the <a href="#viewmodes">view mode</a> selection buttons,
        which switch between the available views for all files at
        once.</p>

      <p>At bottom right are the <a href="#playback">audio playback speed and
          volume/pan</a> controls.</p>
      
      <a name="openingfiles"></a><h2>3 &nbsp;Opening Files</h2>

      <p>Use the <img class="icon" src="images/icons/fileopen.svg"/>
      Add Files toolbar button or menu option to open one or more
      audio files. If you have several files in the same folder that
      you want to open, you can select them all at once in the file
      dialog.</p>

      <p>To clear the session and start again with new files, use the
        <img class="icon" src="images/icons/filenew.svg"/> Clear
        Session toolbar button or menu option. You can also close any
        of the individual files except for the Reference, and remove
        it from the view, by clicking the <img class="icon"
        src="images/icons/cross.svg"/> close button at the top left of
        its view. You can't close the Reference file except by
        clearing the session.</p>

      <p>The set of files you have opened is remembered from one run
        of Sonic Lineup to the next: when you start the application,
        it starts up with the same files open as last time. You can
        also use the File &rarr; Recent Sessions menu to choose from
        the most recently-used sets of files.
      </p>

      <a name="alignment"></a><h2>4 &nbsp;Alignment</h2>

      <p>When you open more than one audio file, Sonic Lineup will try
      to calculate an alignment in time between the Reference file
      (the first one opened) and each of the other files, on the
      assumption that they all represent different versions of the
        same underlying musical material.</p>

      <p>If this alignment is calculated correctly, then it becomes
      possible to scroll through each file while tracking the same
      position in "musical terms" in all of the other files, and to
      play through the music switching at any moment between versions
      at the same "musical" position.</p>

      <p>The alignment is calculated using
      the <a href="http://www.eecs.qmul.ac.uk/~simond/match/">MATCH
      algorithm</a> and
      the <a href="https://code.soundsoftware.ac.uk/projects/match-vamp/">MATCH
      Vamp Plugin</a>. It typically works well for variant recordings
      performed in the same key without significant structural
      differences. The alignment may take a few seconds to calculate,
      and the text "Aligned" is shown at the left of the file's view
      when it is complete.</p>

      <p>Real recordings often differ in pitch as well as time &ndash;
      because of small differences in tuned pitch, or even because
      they are performed in different keys &ndash; and so before the
      time alignment is calculated, Sonic Lineup will check whether
      the files to be aligned have similar pitch profiles and, if not,
      may retune them when calculating the time alignment. Files whose
      alignments were calculated with a tuning difference will have
      "Aligned at N cents" shown on their views, where N is the number
      of cents the tuning of the aligned file appeared to differ by,
      relative to the reference.</p>

      <a name="controlling"></a><h3>4.1 &nbsp;Controlling Alignment</h3>

      <p>There are two options on the Playback menu which control the
        alignment process:</p>
      <ul><li><b>Align File Timelines</b> &ndash; Switched on by
          default. If you switch this off, no alignment will be
          calculated. The files will still scroll together, but on a
          pure "clock time" timeline.</li>
        <li><b>Allow for Pitch Difference when Aligning</b> &ndash;
        Switched on by default. If you switch this off, the tuning
        comparison step usually performed before time alignment will
        be skipped, and the files will be assumed to be at the same
        pitch. Sometimes the tuning step gets it wrong, and in that
        case it may be possible to get a better alignment without
        it.</li></ul>

      <a name="playback"></a><h2>5 &nbsp;Playback and Recording</h2>

      <a name="playbackplayback"></a><h3 class="first">5.1 &nbsp;Playback</h3>

      <p>Playback is controlled using the transport controls in the
        toolbar.</p>

      <p>Use the &nbsp;<img class="icon"
      src="images/icons/playpause.svg">&nbsp; Play / Pause button, or
      press the Space key, to start and stop playback.</p>

      <p>Use <img class="icon" src="images/icons/rewind-start.svg">
      Rewind to Start and <img class="icon"
      src="images/icons/ffwd-end.svg"> Fast Forward to End to jump to
      either end of the current audio file.</p>

      <p>Use <img class="icon" src="images/icons/rewind.svg"> Rewind
      and <img class="icon" src="images/icons/ffwd.svg"> Fast Forward
      to jump to the nearest item in the appropriate direction in
      the <a href="#salientfeatures">salient feature layer</a> if it
      is present, or by a short fixed distance otherwise.</p>

      <p>You can also skip about during playback
      by <a href="#navigate">dragging a pane</a>.</p>

      <p>The current playback position is always that of the pointer
        in the centre of the audio file view, and the current audio
        file (the one that is playing) is marked with a vertical white
        bar at the left end of its view. Click on a different file to
        switch to that one during playback. If they are properly
        aligned, then this should take you to the same moment in the
        underlying musical timeline.</p>
      
      <p>At the bottom-right of the main window, you can see two
controls for playback speed and volume level/pan. The dial control can
be used to speed up or slow down playback: you can adjust playback
speed from one-tenth to ten times the original speed without affecting
its pitch, although the sound quality will suffer. The level/pan
button shows both volume level and overall stereo balance and can be
used to adjust both: click on the level/pan button to open a bigger
control and then drag it up or down for level and left for pan.

        <a name="recording"></a><h3>5.2 &nbsp;Recording</h3>

      <p>Use the Record button <img class="icon"
      src="images/icons/record.svg"> to start recording a new audio
      file from the microphone or other connected input. Press Record
      again, or the Space key, to stop recording. The recording will
      be added as a new audio file and aligned in the normal way.</p>

      <p>Recorded audio files are saved in a folder beneath your home
        directory, and remain there after Sonic Lineup exits: clearing
        the session does not delete them. Go to File &rarr; Browse
        Recorded Audio to open the recorded audio folder in your
        system's file explorer window.</p>

<a name="microphonepermission"></a><h4>9.3.1 &nbsp;Permission to use the microphone (macOS only)</h4>

<p>On macOS 10.14 Mojave or newer, the first time you ask to record
from the built-in microphone, a system dialog box will appear asking
for permission to use the microphone. You must agree to this, or else
the recording will be silent. The operating system remembers your
reply, and will not ask you again, even on subsequent runs of Sonic
Lineup. If you need to change this later, refer to the Privacy
controls in your System Preferences.
  
      <a name="navigation"></a><h2>6 &nbsp;Navigation</h2>

      <p>To navigate in time, click on a file view and drag it left or
      right. This will move the timelines of all the file views in that direction, maintaining their alignment against the central position pointer.
      
        <!--
      
      <p>All files share a common position corresponding to an aligned
        time in the Reference file, indicated with a solid white line
        through the middle of each file in the view. Dragging left and
        right will move this reference point through all of the files at
        once, in alignment. This point is also the "playhead" for audio
        playback, so the file views will naturally scroll during
        playback, and the playhead may be moved during playback by
        dragging any view.</p>

      <p>The lighter grey vertical lines arranged across the file
        views contain points on the <a href="#salientfeatures">Salient
          Feature Layer</a>, which is calculated from the Reference file
        and then mapped across to the rest to show the correspondence
        calculated from the automatic alignment process.</p>
      
      <a name="navigation"></a><h2>5 &nbsp;Navigation</h2>
-->
      <p>
      
</body>
</html>
